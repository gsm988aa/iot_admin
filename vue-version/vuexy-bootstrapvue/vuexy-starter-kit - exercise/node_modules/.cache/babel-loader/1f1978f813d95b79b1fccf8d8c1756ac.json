{"remainingRequest":"C:\\Users\\gs\\Desktop\\iot_admin\\vue-version\\vuexy-bootstrapvue\\vuexy-starter-kit - exercise\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\gs\\Desktop\\iot_admin\\vue-version\\vuexy-bootstrapvue\\vuexy-starter-kit - exercise\\src\\@core\\auth\\jwt\\jwtService.js","dependencies":[{"path":"C:\\Users\\gs\\Desktop\\iot_admin\\vue-version\\vuexy-bootstrapvue\\vuexy-starter-kit - exercise\\src\\@core\\auth\\jwt\\jwtService.js","mtime":1692242336063},{"path":"C:\\Users\\gs\\Desktop\\iot_admin\\vue-version\\vuexy-bootstrapvue\\vuexy-starter-kit - exercise\\babel.config.js","mtime":1692242336038},{"path":"C:\\Users\\gs\\Desktop\\iot_admin\\vue-version\\vuexy-bootstrapvue\\vuexy-starter-kit - exercise\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\gs\\Desktop\\iot_admin\\vue-version\\vuexy-bootstrapvue\\vuexy-starter-kit - exercise\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvZ3MvRGVza3RvcC9pb3RfYWRtaW4vdnVlLXZlcnNpb24vdnVleHktYm9vdHN0cmFwdnVlL3Z1ZXh5LXN0YXJ0ZXIta2l0IC0gZXhlcmNpc2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkM6L1VzZXJzL2dzL0Rlc2t0b3AvaW90X2FkbWluL3Z1ZS12ZXJzaW9uL3Z1ZXh5LWJvb3RzdHJhcHZ1ZS92dWV4eS1zdGFydGVyLWtpdCAtIGV4ZXJjaXNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQzovVXNlcnMvZ3MvRGVza3RvcC9pb3RfYWRtaW4vdnVlLXZlcnNpb24vdnVleHktYm9vdHN0cmFwdnVlL3Z1ZXh5LXN0YXJ0ZXIta2l0IC0gZXhlcmNpc2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOi9Vc2Vycy9ncy9EZXNrdG9wL2lvdF9hZG1pbi92dWUtdmVyc2lvbi92dWV4eS1ib290c3RyYXB2dWUvdnVleHktc3RhcnRlci1raXQgLSBleGVyY2lzZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0IGp3dERlZmF1bHRDb25maWcgZnJvbSAnLi9qd3REZWZhdWx0Q29uZmlnJzsKCnZhciBKd3RTZXJ2aWNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAvLyBXaWxsIGJlIHVzZWQgYnkgdGhpcyBzZXJ2aWNlIGZvciBtYWtpbmcgQVBJIGNhbGxzCiAgLy8gand0Q29uZmlnIDw9IFdpbGwgYmUgdXNlZCBieSB0aGlzIHNlcnZpY2UKICAvLyBGb3IgUmVmcmVzaGluZyBUb2tlbgogIC8vIEZvciBSZWZyZXNoaW5nIFRva2VuCiAgZnVuY3Rpb24gSnd0U2VydmljZShheGlvc0lucywgand0T3ZlcnJpZGVDb25maWcpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEp3dFNlcnZpY2UpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiYXhpb3NJbnMiLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImp3dENvbmZpZyIsIF9vYmplY3RTcHJlYWQoe30sIGp3dERlZmF1bHRDb25maWcpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImlzQWxyZWFkeUZldGNoaW5nQWNjZXNzVG9rZW4iLCBmYWxzZSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJzdWJzY3JpYmVycyIsIFtdKTsKCiAgICB0aGlzLmF4aW9zSW5zID0gYXhpb3NJbnM7CiAgICB0aGlzLmp3dENvbmZpZyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5qd3RDb25maWcpLCBqd3RPdmVycmlkZUNvbmZpZyk7IC8vIFJlcXVlc3QgSW50ZXJjZXB0b3IKCiAgICB0aGlzLmF4aW9zSW5zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgICAgIC8vIEdldCB0b2tlbiBmcm9tIGxvY2FsU3RvcmFnZQogICAgICB2YXIgYWNjZXNzVG9rZW4gPSBfdGhpcy5nZXRUb2tlbigpOyAvLyBJZiB0b2tlbiBpcyBwcmVzZW50IGFkZCBpdCB0byByZXF1ZXN0J3MgQXV0aG9yaXphdGlvbiBIZWFkZXIKCgogICAgICBpZiAoYWNjZXNzVG9rZW4pIHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ24KICAgICAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gIiIuY29uY2F0KF90aGlzLmp3dENvbmZpZy50b2tlblR5cGUsICIgIikuY29uY2F0KGFjY2Vzc1Rva2VuKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNvbmZpZzsKICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgfSk7IC8vIEFkZCByZXF1ZXN0L3Jlc3BvbnNlIGludGVyY2VwdG9yCgogICAgdGhpcy5heGlvc0lucy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgLy8gY29uc3QgeyBjb25maWcsIHJlc3BvbnNlOiB7IHN0YXR1cyB9IH0gPSBlcnJvcgogICAgICB2YXIgY29uZmlnID0gZXJyb3IuY29uZmlnLAogICAgICAgICAgcmVzcG9uc2UgPSBlcnJvci5yZXNwb25zZTsKICAgICAgdmFyIG9yaWdpbmFsUmVxdWVzdCA9IGNvbmZpZzsgLy8gaWYgKHN0YXR1cyA9PT0gNDAxKSB7CgogICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgICAgICBpZiAoIV90aGlzLmlzQWxyZWFkeUZldGNoaW5nQWNjZXNzVG9rZW4pIHsKICAgICAgICAgIF90aGlzLmlzQWxyZWFkeUZldGNoaW5nQWNjZXNzVG9rZW4gPSB0cnVlOwoKICAgICAgICAgIF90aGlzLnJlZnJlc2hUb2tlbigpLnRoZW4oZnVuY3Rpb24gKHIpIHsKICAgICAgICAgICAgX3RoaXMuaXNBbHJlYWR5RmV0Y2hpbmdBY2Nlc3NUb2tlbiA9IGZhbHNlOyAvLyBVcGRhdGUgYWNjZXNzVG9rZW4gaW4gbG9jYWxTdG9yYWdlCgogICAgICAgICAgICBfdGhpcy5zZXRUb2tlbihyLmRhdGEuYWNjZXNzVG9rZW4pOwoKICAgICAgICAgICAgX3RoaXMuc2V0UmVmcmVzaFRva2VuKHIuZGF0YS5yZWZyZXNoVG9rZW4pOwoKICAgICAgICAgICAgX3RoaXMub25BY2Nlc3NUb2tlbkZldGNoZWQoci5kYXRhLmFjY2Vzc1Rva2VuKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgdmFyIHJldHJ5T3JpZ2luYWxSZXF1ZXN0ID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgIF90aGlzLmFkZFN1YnNjcmliZXIoZnVuY3Rpb24gKGFjY2Vzc1Rva2VuKSB7CiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0byBhc3NpZ24gYWNjZXNzVG9rZW4gYWNjb3JkaW5nIHRvIHlvdXIgcmVzcG9uc2UuCiAgICAgICAgICAgIC8vIENoZWNrOiBodHRwczovL3BpeGludmVudC50aWNrc3kuY29tL3RpY2tldC8yNDEzODcwCiAgICAgICAgICAgIC8vIENoYW5nZSBBdXRob3JpemF0aW9uIGhlYWRlcgogICAgICAgICAgICBvcmlnaW5hbFJlcXVlc3QuaGVhZGVycy5BdXRob3JpemF0aW9uID0gIiIuY29uY2F0KF90aGlzLmp3dENvbmZpZy50b2tlblR5cGUsICIgIikuY29uY2F0KGFjY2Vzc1Rva2VuKTsKICAgICAgICAgICAgcmVzb2x2ZShfdGhpcy5heGlvc0lucyhvcmlnaW5hbFJlcXVlc3QpKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiByZXRyeU9yaWdpbmFsUmVxdWVzdDsKICAgICAgfQoKICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKICAgIH0pOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEp3dFNlcnZpY2UsIFt7CiAgICBrZXk6ICJvbkFjY2Vzc1Rva2VuRmV0Y2hlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25BY2Nlc3NUb2tlbkZldGNoZWQoYWNjZXNzVG9rZW4pIHsKICAgICAgdGhpcy5zdWJzY3JpYmVycyA9IHRoaXMuc3Vic2NyaWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgIHJldHVybiBjYWxsYmFjayhhY2Nlc3NUb2tlbik7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImFkZFN1YnNjcmliZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFN1YnNjcmliZXIoY2FsbGJhY2spIHsKICAgICAgdGhpcy5zdWJzY3JpYmVycy5wdXNoKGNhbGxiYWNrKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRUb2tlbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VG9rZW4oKSB7CiAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmp3dENvbmZpZy5zdG9yYWdlVG9rZW5LZXlOYW1lKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRSZWZyZXNoVG9rZW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJlZnJlc2hUb2tlbigpIHsKICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuand0Q29uZmlnLnN0b3JhZ2VSZWZyZXNoVG9rZW5LZXlOYW1lKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRUb2tlbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VG9rZW4odmFsdWUpIHsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5qd3RDb25maWcuc3RvcmFnZVRva2VuS2V5TmFtZSwgdmFsdWUpOwogICAgfQogIH0sIHsKICAgIGtleTogInNldFJlZnJlc2hUb2tlbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UmVmcmVzaFRva2VuKHZhbHVlKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuand0Q29uZmlnLnN0b3JhZ2VSZWZyZXNoVG9rZW5LZXlOYW1lLCB2YWx1ZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAibG9naW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMkYXhpb3NJbnM7CgogICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldOwogICAgICB9CgogICAgICByZXR1cm4gKF90aGlzJGF4aW9zSW5zID0gdGhpcy5heGlvc0lucykucG9zdC5hcHBseShfdGhpcyRheGlvc0lucywgW3RoaXMuand0Q29uZmlnLmxvZ2luRW5kcG9pbnRdLmNvbmNhdChhcmdzKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVnaXN0ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyKCkgewogICAgICB2YXIgX3RoaXMkYXhpb3NJbnMyOwoKICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7CiAgICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdOwogICAgICB9CgogICAgICByZXR1cm4gKF90aGlzJGF4aW9zSW5zMiA9IHRoaXMuYXhpb3NJbnMpLnBvc3QuYXBwbHkoX3RoaXMkYXhpb3NJbnMyLCBbdGhpcy5qd3RDb25maWcucmVnaXN0ZXJFbmRwb2ludF0uY29uY2F0KGFyZ3MpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZWZyZXNoVG9rZW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlZnJlc2hUb2tlbigpIHsKICAgICAgcmV0dXJuIHRoaXMuYXhpb3NJbnMucG9zdCh0aGlzLmp3dENvbmZpZy5yZWZyZXNoRW5kcG9pbnQsIHsKICAgICAgICByZWZyZXNoVG9rZW46IHRoaXMuZ2V0UmVmcmVzaFRva2VuKCkKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gSnd0U2VydmljZTsKfSgpOwoKZXhwb3J0IHsgSnd0U2VydmljZSBhcyBkZWZhdWx0IH07"},{"version":3,"names":["jwtDefaultConfig","JwtService","axiosIns","jwtOverrideConfig","jwtConfig","interceptors","request","use","config","accessToken","getToken","headers","Authorization","tokenType","error","Promise","reject","response","originalRequest","status","isAlreadyFetchingAccessToken","refreshToken","then","r","setToken","data","setRefreshToken","onAccessTokenFetched","retryOriginalRequest","resolve","addSubscriber","subscribers","filter","callback","push","localStorage","getItem","storageTokenKeyName","storageRefreshTokenKeyName","value","setItem","args","post","loginEndpoint","registerEndpoint","refreshEndpoint","getRefreshToken"],"sources":["C:/Users/gs/Desktop/iot_admin/vue-version/vuexy-bootstrapvue/vuexy-starter-kit - exercise/src/@core/auth/jwt/jwtService.js"],"sourcesContent":["import jwtDefaultConfig from './jwtDefaultConfig'\r\n\r\nexport default class JwtService {\r\n  // Will be used by this service for making API calls\r\n  axiosIns = null\r\n\r\n  // jwtConfig <= Will be used by this service\r\n  jwtConfig = { ...jwtDefaultConfig }\r\n\r\n  // For Refreshing Token\r\n  isAlreadyFetchingAccessToken = false\r\n\r\n  // For Refreshing Token\r\n  subscribers = []\r\n\r\n  constructor(axiosIns, jwtOverrideConfig) {\r\n    this.axiosIns = axiosIns\r\n    this.jwtConfig = { ...this.jwtConfig, ...jwtOverrideConfig }\r\n\r\n    // Request Interceptor\r\n    this.axiosIns.interceptors.request.use(\r\n      config => {\r\n        // Get token from localStorage\r\n        const accessToken = this.getToken()\r\n\r\n        // If token is present add it to request's Authorization Header\r\n        if (accessToken) {\r\n          // eslint-disable-next-line no-param-reassign\r\n          config.headers.Authorization = `${this.jwtConfig.tokenType} ${accessToken}`\r\n        }\r\n        return config\r\n      },\r\n      error => Promise.reject(error),\r\n    )\r\n\r\n    // Add request/response interceptor\r\n    this.axiosIns.interceptors.response.use(\r\n      response => response,\r\n      error => {\r\n        // const { config, response: { status } } = error\r\n        const { config, response } = error\r\n        const originalRequest = config\r\n\r\n        // if (status === 401) {\r\n        if (response && response.status === 401) {\r\n          if (!this.isAlreadyFetchingAccessToken) {\r\n            this.isAlreadyFetchingAccessToken = true\r\n            this.refreshToken().then(r => {\r\n              this.isAlreadyFetchingAccessToken = false\r\n\r\n              // Update accessToken in localStorage\r\n              this.setToken(r.data.accessToken)\r\n              this.setRefreshToken(r.data.refreshToken)\r\n\r\n              this.onAccessTokenFetched(r.data.accessToken)\r\n            })\r\n          }\r\n          const retryOriginalRequest = new Promise(resolve => {\r\n            this.addSubscriber(accessToken => {\r\n              // Make sure to assign accessToken according to your response.\r\n              // Check: https://pixinvent.ticksy.com/ticket/2413870\r\n              // Change Authorization header\r\n              originalRequest.headers.Authorization = `${this.jwtConfig.tokenType} ${accessToken}`\r\n              resolve(this.axiosIns(originalRequest))\r\n            })\r\n          })\r\n          return retryOriginalRequest\r\n        }\r\n        return Promise.reject(error)\r\n      },\r\n    )\r\n  }\r\n\r\n  onAccessTokenFetched(accessToken) {\r\n    this.subscribers = this.subscribers.filter(callback => callback(accessToken))\r\n  }\r\n\r\n  addSubscriber(callback) {\r\n    this.subscribers.push(callback)\r\n  }\r\n\r\n  getToken() {\r\n    return localStorage.getItem(this.jwtConfig.storageTokenKeyName)\r\n  }\r\n\r\n  getRefreshToken() {\r\n    return localStorage.getItem(this.jwtConfig.storageRefreshTokenKeyName)\r\n  }\r\n\r\n  setToken(value) {\r\n    localStorage.setItem(this.jwtConfig.storageTokenKeyName, value)\r\n  }\r\n\r\n  setRefreshToken(value) {\r\n    localStorage.setItem(this.jwtConfig.storageRefreshTokenKeyName, value)\r\n  }\r\n\r\n  login(...args) {\r\n    return this.axiosIns.post(this.jwtConfig.loginEndpoint, ...args)\r\n  }\r\n\r\n  register(...args) {\r\n    return this.axiosIns.post(this.jwtConfig.registerEndpoint, ...args)\r\n  }\r\n\r\n  refreshToken() {\r\n    return this.axiosIns.post(this.jwtConfig.refreshEndpoint, {\r\n      refreshToken: this.getRefreshToken(),\r\n    })\r\n  }\r\n}\r\n"],"mappings":"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"}]}